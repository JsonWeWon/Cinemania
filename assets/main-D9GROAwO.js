import{a as P}from"./vendor-N5iQpiFS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function o(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=o(i);fetch(i.href,r)}})();const j="016a30ce49a7789188b6fa9bad9963a6",w="https://api.themoviedb.org/3",_="https://image.tmdb.org/t/p",E={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:e=>`/movie/${e}`,MOVIE_VIDEOS:e=>`/movie/${e}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function b(e,t,o={}){try{return(await P.get(`${e}${t}`,{params:{api_key:j,language:"en-US",page:1,...o}})).data}catch(n){throw console.error("Error fetching data:",n),n}}document.addEventListener("DOMContentLoaded",()=>{console.log("Trailer modal script loaded");const e=document.querySelector(".hero"),t=document.querySelector(".modal-trailer"),o=t.querySelector(".modal-trailer__close"),n=document.querySelector(".hero-button-watchTrailer"),i=t.querySelector(".modal-trailer__video");console.log("Elements found:",{modal:!!t,closeBtn:!!o,watchTrailerBtn:!!n,iframe:!!i});function r(){const s=i.src;i.src=s}function a(){console.log("Closing modal"),t.classList.remove("active"),document.body.style.overflow="auto",r()}function l(){console.log("Opening modal"),t.classList.add("active"),document.body.style.overflow="hidden",console.log("video api ",e.dataset.movieid),b(w,`/movie/${e.dataset.movieid}/videos`,{page:1}).then(s=>{console.log("VIDEO:",s);const g=s.results.find(m=>m.official===!0&&m.site==="YouTube"&&m.type==="Trailer");if(g){const m=`https://www.youtube.com/embed/${g.key}`;console.log(i.src),i.src=m,console.log(i.src)}else console.log("No official YouTube trailer found.")})}n&&n.addEventListener("click",s=>{console.log("Watch trailer button clicked"),s.preventDefault(),l()}),o&&o.addEventListener("click",s=>{console.log("Close button clicked"),s.preventDefault(),a()}),t&&t.addEventListener("click",s=>{s.target===t&&(console.log("Clicked outside modal"),a())}),document.addEventListener("keydown",s=>{s.key==="Escape"&&t.classList.contains("active")&&(console.log("Escape key pressed"),a())}),window.trailerModal={open:l,close:a}});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("genre-dropdown-container"),t=document.getElementById("load-more-container"),o=document.getElementById("library-list"),n=document.getElementById("default-content"),i=document.getElementById("genre-dropdown"),r=10;let a=1;const l=JSON.parse(localStorage.getItem("myLibrary"))||[];if(l.length===0){n.style.display="block",e.style.display="none",t.style.display="none";return}n.style.display="none",e.style.display="block",T(l.slice(0,r)),l.length>r?t.style.display="block":t.style.display="none",i.addEventListener("change",s=>{const g=s.target.value,m=g==="all"?l.slice(0,a*r):l.filter(c=>c.genre_ids.includes(parseInt(g)));m.length===0?(n.style.display="block",o.innerHTML="",e.style.display="block",t.style.display="none"):(n.style.display="none",T(m.slice(0,a*r)),t.style.display=m.length>a*r?"block":"none")}),document.getElementById("load-more").addEventListener("click",()=>{a++;const s=l.slice(0,a*r);T(s),s.length>=l.length&&(t.style.display="none")})});function T(e){const t=document.getElementById("library-list");t.innerHTML="",e.forEach(o=>{const n=document.createElement("div");n.className="movie-item",n.innerHTML=`
      <img src="https://image.tmdb.org/t/p/w500${o.poster_path}" alt="${o.title}" class="movie-poster">
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${o.title}</h3>
        <p class="catalog-card-description">${J(o.genre_ids)} | ${o.release_date?o.release_date.split("-")[0]:"Unknown"}</p>
        <p class="rating">⭐ ${o.vote_average.toFixed(1)}</p>
      </div>
    `,n.addEventListener("click",()=>{window.movieModal.show(o.id)}),t.appendChild(n)})}function J(e){const t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};return!e||!Array.isArray(e)?"":e.map(n=>t[n]||"Unknown").slice(0,2).join(", ")}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-switch"),t=document.documentElement,o=document.body,n=localStorage.getItem("theme");n?(t.classList.add(n),o.classList.add(n),e.checked=n==="light-theme"):(t.classList.add("dark-theme"),o.classList.add("dark-theme"),e.checked=!1,localStorage.setItem("theme","dark-theme")),requestAnimationFrame(()=>{t.classList.add("theme-loaded")}),e.addEventListener("change",()=>{e.checked?(t.classList.remove("dark-theme"),t.classList.add("light-theme"),o.classList.remove("dark-theme"),o.classList.add("light-theme"),localStorage.setItem("theme","light-theme")):(t.classList.remove("light-theme"),t.classList.add("dark-theme"),o.classList.remove("light-theme"),o.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"))})});document.addEventListener("DOMContentLoaded",function(){const e=document.createElement("div");fetch("modal.html").then(t=>t.text()).then(t=>{e.innerHTML=t;const o=document.getElementById("teamModal"),n=document.getElementById("teamLink"),i=document.getElementById("closeModal");n.addEventListener("click",function(){o.classList.add("active"),document.body.style.overflow="hidden"});function r(){o.classList.remove("active"),document.body.style.overflow="auto"}i.addEventListener("click",r),o.addEventListener("click",function(a){a.target===o&&r()}),document.addEventListener("keydown",function(a){a.key==="Escape"&&r()})}).catch(t=>console.error("Modal yüklenirken bir hata oluştu:",t))});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".mobile-menu"),o=document.querySelector(".mobile-menu-icon use"),n=document.body;function i(){const l=t.classList.contains("is-open"),s=o.getAttribute("href").split("#")[0];t.classList.toggle("is-open"),e.setAttribute("aria-expanded",!l),o.setAttribute("href",l?s+"#icon-menu":s+"#icon-close"),n.style.overflow=l?"":"hidden"}e&&t&&(e.addEventListener("click",s=>{s.stopPropagation(),i()}),document.querySelectorAll(".mobile-nav-link").forEach(s=>{s.addEventListener("click",()=>{i()})}),document.addEventListener("click",s=>{t.classList.contains("is-open")&&!s.target.closest(".mobile-menu")&&!s.target.closest(".mobile-menu-btn")&&i()}),t.addEventListener("click",s=>{s.stopPropagation()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&t.classList.contains("is-open")&&i()}));const r=window.location.pathname;document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(l=>{l.classList.remove("active")}),r.includes("catalog.html")?document.querySelectorAll('[data-page="catalog"]').forEach(l=>{l.classList.add("active")}):r.includes("mylibrary.html")?document.querySelectorAll('[data-page="library"]').forEach(l=>{l.classList.add("active")}):document.querySelectorAll('[data-page="home"]').forEach(l=>{l.classList.add("active")})});const K=document.querySelector("#weekly-movie-card");async function Z(){try{const t=(await b(w,E.TRENDING_WEEK)).results.slice(0,3),o=t.map(n=>`
                <li class="catalog-item" id="weekly-movie-${n.id}">
                    <img class="catalog-img" src="${_}/w500${n.poster_path}" alt="${n.title}">
                    <div class="catalog-info">
                        <h2 class="catalog-title">${n.title}</h2>
                    </div>
                    <div class="catalog-stars">
                        <span class="stars">⭐ ${n.vote_average.toFixed(1)}</span>
                    </div>
                </li>
            `);K.innerHTML=o.join(""),t.forEach(n=>{document.getElementById(`weekly-movie-${n.id}`).addEventListener("click",()=>{window.movieModal.show(n.id)})})}catch(e){console.error("Error loading weekly movies:",e)}}Z();let y=1;const x=document.querySelector(".upcoming__library-btn"),q=document.querySelector("#content-poster"),z=document.querySelector("#movie-title"),Q=document.querySelector("#date-of-release"),X=document.querySelector("#avarage-vote"),ee=document.querySelector("#popularity"),te=document.querySelector("#count-vote"),oe=document.querySelector("#genres");let A={};const ne=document.querySelector("#summary");document.querySelector(".upcoming-title");let f=1;b(w,E.GENRE_LIST).then(e=>{e.genres.forEach(t=>{A[t.id]=t.name})});const re=()=>{b(w,E.UPCOMING_MOVIES,{page:1}).then(e=>{const t=new Date,o=e.results.filter(r=>{const a=new Date(r.release_date);return console.log("movie id",f),a>=t});if(o.length>0){let l=function(){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).some(M=>M.id===f)},s=function(){const h=l();x.textContent=h?"Remove from my library":"Add to my library",x.dataset.action=h?"remove":"add"},g=function(){const h=JSON.parse(localStorage.getItem("myLibrary"))||[],M=h.findIndex(L=>L.id===y.id);console.log("index",M),y.genres&&!y.genre_ids&&(y.genre_ids=y.genres.map(L=>L.id)),y.genre_ids&&!y.genres&&(y.genres=y.genre_ids.map(L=>({id:L,name:A[L]||"Unknown"}))),M===-1?h.push(y):h.splice(M,1),localStorage.setItem("myLibrary",JSON.stringify(h)),s(y.id)};const r=o[Math.floor(Math.random()*o.length)],a=`${_}${E.IMG_W1280}${r.backdrop_path}`;y=r,q.src=a,q.alt=r.title,q.title=r.overview,z.innerHTML=`${r.title}`,console.log("movie ",r.id),f=r.id,console.log("verelim bir veri",f),x.addEventListener("click",()=>{f&&(n(f),g())});const m=new Date(r.release_date),c=m.getDate().toString().padStart(2,"0"),d=(m.getMonth()+1).toString().padStart(2,"0"),p=m.getFullYear();Q.innerHTML=`${c}.${d}.${p}`,X.innerHTML=`${r.vote_average}`,ee.innerHTML=`${r.popularity}`,te.innerHTML=`${r.vote_count}`;const u=r.genre_ids.map(h=>A[h]).join(", ");oe.innerHTML=u,ne.innerHTML=`${r.overview}`}function n(r){fetch(`https://api.themoviedb.org/3/movie/${r}?api_key=016a30ce49a7789188b6fa9bad9963a6&language=en-US`).then(a=>a.json()).then(a=>(console.log("veriAL",a),a)).catch(a=>{console.error("Hata oluştu:",a)})}const i=n(f);console.log("turkiye",i)})};re();console.log("upcoming js yüklendi");const ie=document.querySelector(".loader");window.onload=()=>{ie.classList.remove("loader--shown"),document.body.removeAttribute("style")};function ae(){const e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow="hidden",document.body.style.paddingRight=`${e}px`}ae();document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".scroll-to-top"),t=100;function o(){window.scrollY>t?e.classList.add("visible"):e.classList.remove("visible")}function n(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",o),e.addEventListener("click",n),o()});const se=document.querySelector("#heroImg"),F=document.querySelector(".hero-image-container"),le=document.querySelector(".hero-h1"),ce=document.querySelector(".hero-rating-stars"),de=document.querySelector(".hero-summary"),me=document.querySelector(".hero-button-moreDetails");document.querySelector(".hero-button-watchTrailer");const ue=document.querySelector(".hero");let H=null;function ye(e){return e.length>170?e.slice(0,170)+"...":e}function ge(e){const t=`${_}/w500${e.backdrop_path}`,o=`${_}/w780${e.backdrop_path}`,n=`${_}/w1280${e.backdrop_path}`,i=document.createElement("img");i?i.classList.add("hero-image-itself"):console.error("Image element not found."),i.alt=e.title,window.matchMedia("(max-width: 767px)").matches?i.src=t:window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches?i.src=o:i.src=n,F.innerHTML="",F.appendChild(i),se.setAttribute("aria-label",e.title),le.innerHTML=e.title,de.innerHTML=ye(e.overview),H=e.id}b(w,E.POPULAR_MOVIES,{page:1}).then(e=>{if(e.results&&e.results.length>0){const t=Math.floor(Math.random()*20),o=e.results[t];ue.dataset.movieid=o.id;const n=o.vote_average;ve(n,ce),ge(o)}else console.error("No movies found for hero section.")});me.addEventListener("click",()=>{H&&window.movieModal.show(H)});window.addEventListener("resize",()=>{imgElement&&(window.innerWidth<=768?imgElement.src=mobileImage:window.innerWidth<=1280?imgElement.src=tabletImage:imgElement.src=desktopImage)});const pe=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M13.852 16.875C13.7336 16.8755 13.6181 16.8386 13.5219 16.7696L9.00048 13.4916L4.47903 16.7696C4.38243 16.8396 4.26606 16.8772 4.14673 16.8767C4.0274 16.8763 3.91129 16.8379 3.81521 16.7672C3.71912 16.6964 3.64803 16.5969 3.61221 16.4831C3.57639 16.3693 3.5777 16.247 3.61594 16.134L5.37938 10.9108L0.809069 7.77661C0.710073 7.7088 0.635356 7.61111 0.595836 7.49781C0.556316 7.3845 0.554063 7.26154 0.589407 7.14686C0.624751 7.03219 0.695839 6.93183 0.792285 6.86044C0.888732 6.78904 1.00548 6.75036 1.12548 6.75005H6.76384L8.4654 1.51352C8.50205 1.40047 8.57358 1.30193 8.6697 1.23204C8.76583 1.16216 8.88163 1.12451 9.00048 1.12451C9.11932 1.12451 9.23512 1.16216 9.33125 1.23204C9.42738 1.30193 9.4989 1.40047 9.53555 1.51352L11.2371 6.75181H16.8755C16.9956 6.75175 17.1126 6.79016 17.2094 6.86141C17.3061 6.93267 17.3775 7.03303 17.413 7.14778C17.4486 7.26254 17.4465 7.38568 17.407 7.49915C17.3675 7.61262 17.2928 7.71047 17.1936 7.77837L12.6216 10.9108L14.384 16.1325C14.4125 16.2171 14.4205 16.3072 14.4074 16.3955C14.3942 16.4837 14.3603 16.5676 14.3083 16.6401C14.2563 16.7127 14.1879 16.7718 14.1085 16.8127C14.0292 16.8535 13.9413 16.8749 13.852 16.875Z" fill="url(#paint0_linear_405_1426)"/>
  <defs>
    <linearGradient id="paint0_linear_405_1426" x1="2.62549" y1="2.25006" x2="13.8755" y2="17.2501" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F84119"/>
      <stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>
    </linearGradient>
  </defs>
</svg>`,he=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_1428)" stroke-linejoin="round"/>
  <path d="M9 1.6875V12.7969L4.14844 16.3125L6.04688 10.6875L1.125 7.3125H7.17188L9 1.6875Z" fill="url(#paint1_linear_405_1428)"/>
  <defs>
    <linearGradient id="paint0_linear_405_1428" x1="3.375" y1="2.625" x2="14.625" y2="16.5" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F84119"/>
      <stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>
    </linearGradient>
    <linearGradient id="paint1_linear_405_1428" x1="5.0625" y1="1.6875" x2="5.0625" y2="16.3125" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F84119"/>
      <stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>
    </linearGradient>
  </defs>
</svg>`,fe=`
<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
  <path d="M16.875 7.3125H10.8281L9 1.6875L7.17188 7.3125H1.125L6.04688 10.6875L4.14844 16.3125L9 12.7969L13.8516 16.3125L11.9531 10.6875L16.875 7.3125Z" stroke="url(#paint0_linear_405_1431)" stroke-linejoin="round"/>
  <defs>
    <linearGradient id="paint0_linear_405_1431" x1="3.375" y1="2.625" x2="13.5" y2="16.5" gradientUnits="userSpaceOnUse">
      <stop stop-color="#F84119"/>
      <stop offset="1" stop-color="#F89F19" stop-opacity="0.68"/>
    </linearGradient>
  </defs>
</svg>`;function ve(e,t){if(e<=0||e>=10){console.error("Rating must be between 0 and 10");return}const o=e/2;t.innerHTML="";const n=Math.floor(o),i=o%1>=.5?1:0,r=5-n-i;for(let a=0;a<n;a++){const l=document.createElement("div");l.innerHTML=pe,t.appendChild(l.firstElementChild)}if(i){const a=document.createElement("div");a.innerHTML=he,t.appendChild(a.firstElementChild)}for(let a=0;a<r;a++){const l=document.createElement("div");l.innerHTML=fe,t.appendChild(l.firstElementChild)}}document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".modal-details"),t=e.querySelector(".modal-details__close"),o=e.querySelector(".modal-details__library-btn");let n=null;const i={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function r(){e.classList.remove("active"),document.body.style.overflow="auto"}t.addEventListener("click",r),e.addEventListener("click",c=>{c.target===e&&r()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&e.classList.contains("active")&&r()});function a(c){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).some(p=>p.id===c)}function l(c){const d=a(c);o.textContent=d?"Remove from my library":"Add to my library",o.dataset.action=d?"remove":"add"}function s(c){const d=JSON.parse(localStorage.getItem("myLibrary"))||[],p=d.findIndex(u=>u.id===c.id);c.genres&&!c.genre_ids&&(c.genre_ids=c.genres.map(u=>u.id)),c.genre_ids&&!c.genres&&(c.genres=c.genre_ids.map(u=>({id:u,name:i[u]||"Unknown"}))),p===-1?d.push(c):d.splice(p,1),localStorage.setItem("myLibrary",JSON.stringify(d)),l(c.id)}o.addEventListener("click",async()=>{if(n){const c=await g(n);s(c)}});async function g(c){const d="016a30ce49a7789188b6fa9bad9963a6",p="https://api.themoviedb.org/3";try{const u=await fetch(`${p}/movie/${c}?api_key=${d}&language=en-US`);if(!u.ok)throw new Error("Failed to fetch movie details");return await u.json()}catch(u){return console.error("Error fetching movie details:",u),null}}async function m(c){const d=await g(c);d&&(n=d.id,e.querySelector(".modal-details__image").src=`https://image.tmdb.org/t/p/w500${d.poster_path}`,e.querySelector(".modal-details__image").alt=d.title,e.querySelector(".modal-details__title").textContent=d.title,e.querySelector(".modal-details__vote").textContent=d.vote_average.toFixed(1),e.querySelector(".modal-details__votes").textContent=d.vote_count,e.querySelector(".modal-details__popularity").textContent=d.popularity.toFixed(1),e.querySelector(".modal-details__genre").textContent=d.genres.map(p=>p.name).join(", "),e.querySelector(".modal-details__about-text").textContent=d.overview,l(d.id),e.classList.add("active"),document.body.style.overflow="hidden")}window.movieModal={show:m,close:r}});const Le="016a30ce49a7789188b6fa9bad9963a6",Ee="https://api.themoviedb.org/3",U=document.getElementById("paginationNumbers"),k=document.getElementById("prevButton"),I=document.getElementById("nextButton"),R=document.getElementById("movie-list"),O=document.querySelector(".error-message");let v=1,S=1,W="";const we={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function be(e){return!e||!Array.isArray(e)?"":e.map(n=>we[n]||"Unknown").slice(0,2).join(", ")}function Me(e){return e?e.split("-")[0]:""}function _e(){D(1),k.addEventListener("click",()=>G(v-1)),I.addEventListener("click",()=>G(v+1))}function V(e){W=e.trim(),D(1)}async function D(e){try{const t=await Se(e,W);ke(t.results),v=t.page,S=t.total_pages,Ie()}catch(t){console.error("Failed to load movies:",t),Y("Failed to load movies. Please try again.")}}async function Se(e,t){try{let o="/trending/movie/week",n={api_key:Le,page:e};return t&&(o="/search/movie",n.query=t),(await P.get(`${Ee}${o}`,{params:n})).data}catch(o){throw console.error("Error fetching movies:",o),o}}function ke(e){if(R.innerHTML="",O.style.display="none",!e||e.length===0){Y("No movies found.");return}e.forEach(t=>{const o=document.createElement("div");o.className="catalog-item",o.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${t.poster_path})`;const n=be(t.genre_ids),i=Me(t.release_date),r=`${n}${i?` | ${i}`:""}`;o.innerHTML=`
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${t.title}</h3>
        <p class="catalog-card-description">${r}</p>
        <p class="rating">⭐ ${t.vote_average.toFixed(1)}</p>
      </div>
    `,R.appendChild(o),o.addEventListener("click",()=>{window.movieModal.show(t.id)})})}function Ie(){if(U.innerHTML="",S<2){k.style.display="none",I.style.display="none";return}else k.style.display="inline-block",I.style.display="inline-block";const e=Math.max(1,v-2),t=Math.min(S,e+4);for(let o=e;o<=t;o++){const n=document.createElement("button");n.textContent=o,n.classList.add("pagination-button"),o===v&&n.classList.add("active"),n.addEventListener("click",()=>G(o)),U.appendChild(n)}k.disabled=v===1,I.disabled=v===S}function Y(e){O.textContent=e,O.style.display="block"}async function G(e){e>=1&&e<=S&&await D(e)}const Ce=document.getElementById("search-form"),C=document.getElementById("search-input"),$=document.getElementById("clear-button"),$e=document.getElementById("movie-list");C.addEventListener("input",()=>{C.value.trim()!==""?$.style.display="inline":$.style.display="none"});$.addEventListener("click",()=>{C.value="",$.style.display="none",V("")});Ce.addEventListener("submit",e=>{e.preventDefault();const t=C.value.trim();t&&(V(t),Te())});function Te(){$e.querySelectorAll(".catalog-item").forEach(t=>{const o=t.id.split("-")[2];t.addEventListener("click",()=>{window.movieModal.show(o)})})}const N=document.getElementById("movie-list"),B=document.querySelector(".error-message"),xe={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function qe(e){return!e||!Array.isArray(e)?"":e.map(n=>xe[n]||"Unknown").slice(0,2).join(", ")}function Be(e){return e?e.split("-")[0]:""}function Ae(e){N.innerHTML="",e.forEach(t=>{const o=document.createElement("div");o.className="catalog-item",o.id=`catalog-movie-${t.id}`,o.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${t.poster_path})`;const n=qe(t.genre_ids),i=Be(t.release_date),r=`${n}${i?` | ${i}`:""}`;o.innerHTML=`
            <div class="catalog-card-info-container">
                <h3 class="catalog-card-title">${t.title}</h3>
                <p class="catalog-card-description">${r}</p>
                <p class="rating">⭐ ${t.vote_average.toFixed(1)}</p>
            </div>
        `,N.appendChild(o),o.addEventListener("click",()=>{window.movieModal.show(t.id)})})}async function He(){try{const e=await b(w,E.TRENDING_WEEK);e.results&&e.results.length>0?(Ae(e.results),B.style.display="none"):(N.innerHTML="",B.style.display="block")}catch(e){console.error("Error fetching movies:",e),B.style.display="block"}}document.addEventListener("DOMContentLoaded",()=>{_e(),He()});
//# sourceMappingURL=main-D9GROAwO.js.map
