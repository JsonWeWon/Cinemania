import{a as b}from"./vendor-N5iQpiFS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function o(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(a){if(a.ep)return;a.ep=!0;const r=o(a);fetch(a.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{if(!document.querySelector("#library-container")){console.error("Element with ID 'library-container' not found!");return}const t=document.getElementById("default-content");document.getElementById("library-list");const o=JSON.parse(localStorage.getItem("myLibrary"))||[];o.length===0?t.style.display="block":(t.style.display="none",O(o));const n=document.getElementById("go-to-catalog");n&&n.addEventListener("click",()=>{window.location.href="catalog.html"})});function O(e){const t=document.getElementById("library-list");if(!t){console.error("Element with ID 'library-list' not found!");return}t.innerHTML="",e.forEach(o=>{const n=document.createElement("div");n.className="movie-item",n.innerHTML=`
      <h3>${o.title}</h3>
      <p>${o.description||"Açıklama mevcut değil"}</p>
    `,t.appendChild(n)})}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-switch"),t=document.body,o=localStorage.getItem("theme");o?(t.classList.add(o),e.checked=o==="light-theme"):(t.classList.add("dark-theme"),e.checked=!1),e.addEventListener("change",()=>{e.checked?(t.classList.remove("dark-theme"),t.classList.add("light-theme"),localStorage.setItem("theme","light-theme")):(t.classList.remove("light-theme"),t.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"))})});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".mobile-menu"),o=document.querySelector(".mobile-menu-icon use"),n=document.body;function a(){const i=t.classList.contains("is-open"),c=o.getAttribute("href").split("#")[0];t.classList.toggle("is-open"),e.setAttribute("aria-expanded",!i),o.setAttribute("href",i?c+"#icon-menu":c+"#icon-close"),n.style.overflow=i?"":"hidden"}e&&t&&(e.addEventListener("click",c=>{c.stopPropagation(),a()}),document.querySelectorAll(".mobile-nav-link").forEach(c=>{c.addEventListener("click",()=>{a()})}),document.addEventListener("click",c=>{t.classList.contains("is-open")&&!c.target.closest(".mobile-menu")&&!c.target.closest(".mobile-menu-btn")&&a()}),t.addEventListener("click",c=>{c.stopPropagation()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&t.classList.contains("is-open")&&a()}));const r=window.location.pathname;document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(i=>{i.classList.remove("active")}),r.includes("catalog.html")?document.querySelectorAll('[data-page="catalog"]').forEach(i=>{i.classList.add("active")}):r.includes("mylibrary.html")?document.querySelectorAll('[data-page="library"]').forEach(i=>{i.classList.add("active")}):document.querySelectorAll('[data-page="home"]').forEach(i=>{i.classList.add("active")})});const A="016a30ce49a7789188b6fa9bad9963a6",u="https://api.themoviedb.org/3",h="https://image.tmdb.org/t/p",l={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:e=>`/movie/${e}`,MOVIE_VIDEOS:e=>`/movie/${e}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function g(e,t,o={}){try{return(await b.get(`${e}${t}`,{params:{api_key:A,language:"en-US",page:1,...o}})).data}catch(n){throw console.error("Error fetching data:",n),n}}const m=document.querySelector("#heroImg"),P=document.querySelector(".hero-h1"),q=document.querySelector(".hero-summary"),E=document.querySelector(".hero-button-watchTrailer");function I(e){const t=window.matchMedia("(max-width: 767px)"),o=window.matchMedia("(min-width: 768px) and (max-width: 1279px)"),n=window.matchMedia("(min-width: 1280px)"),a=`${h}${l.IMG_W500}${e.backdrop_path}`,r=`${h}${l.IMG_W780}${e.backdrop_path}`,s=`${h}${l.IMG_W1280}${e.backdrop_path}`;t.matches?(m.style.backgroundImage=`url(${a})`,m.style.height="380px"):o.matches?(m.style.backgroundImage=`url(${r})`,m.style.height="432px"):n.matches&&(m.style.backgroundImage=`url(${s})`,m.style.height="720px"),m.setAttribute("aria-label",e.title),P.innerHTML=e.title,q.innerHTML=e.overview}g(u,l.POPULAR_MOVIES,{page:1}).then(e=>{console.log(e);const t=Math.floor(Math.random()*20),o=e.results[t],n=o.id;I(o),g(u,l.MOVIE_VIDEOS(n),{page:1}).then(a=>{const r=a.results.find(s=>s.official===!0&&s.site==="YouTube"&&s.type==="Trailer");if(r){const s=`https://www.youtube.com/watch?v=${r.key}`;E.href=s,E.addEventListener("click",()=>{window.open(s,"_blank")})}else console.log("No official YouTube trailer found.")})});window.addEventListener("resize",()=>{g(u,l.POPULAR_MOVIES,{page:1}).then(e=>{const t=Math.floor(Math.random()*20),o=e.results[t];I(o)})});const D="016a30ce49a7789188b6fa9bad9963a6",B="https://api.themoviedb.org/3",L=document.getElementById("paginationNumbers"),M=document.getElementById("prevButton"),S=document.getElementById("nextButton"),w=document.getElementById("movieGrid");let d=1,p=1,G=1;async function C(){await _(d),v(),M.addEventListener("click",()=>f(d-1)),S.addEventListener("click",()=>f(d+1))}async function H(){try{const e=await b.get(`${B}/search/movie`,{params:{api_key:D,page:G,query:"Love"}});return console.log("response.data",e.data),e.data}catch(e){throw console.error("Error fetching movies:",e),e}}async function _(e){try{const t=await H(e);console.log("load movie data",t),x(t.results),p=t.total_pages,console.log("totalPages",p),d=e,v()}catch(t){console.error("Failed to load movies:",t),U("Failed to load movies. Please try again.")}}function x(e){e.forEach(t=>{const o=R(t);console.log("movieCard",o),w.appendChild(o)})}function R(e){const t=document.createElement("div");return t.className="movie-card",t.innerHTML=`
    <img src="https://image.tmdb.org/t/p/w500${e.poster_path}" alt="${e.title}">
    <h3>${e.title}</h3>
    <p>Release Date: ${e.release_date}</p>
    <p>Rating: ${e.vote_average}/10</p>
  `,console.log("card",t),t}function v(){L.innerHTML="";const e=Math.max(1,d-2),t=Math.min(p,e+4);for(let o=e;o<=t;o++){const n=document.createElement("button");n.textContent=o,n.classList.add("pagination-button"),o===d&&n.classList.add("active"),n.addEventListener("click",()=>f(o)),L.appendChild(n)}M.disabled=d===1,S.disabled=d===p}async function f(e){e>=1&&e<=p&&await _(e)}function U(e){const t=document.createElement("div");t.className="error-message",t.textContent=e,w.appendChild(t)}C();v();const y=document.querySelector("#content-poster"),V=document.querySelector("#movie-title"),W=document.querySelector("#date-of-release"),Y=document.querySelector("#avarage-vote"),K=document.querySelector("#popularity"),F=document.querySelector("#count-vote"),j=document.querySelector("#genres");let $={};const Q=document.querySelector("#summary");g(u,l.GENRE_LIST).then(e=>{e.genres.forEach(t=>{$[t.id]=t.name})});g(u,l.UPCOMING_MOVIES,{page:1}).then(e=>{const t=new Date,o=e.results.filter(n=>new Date(n.release_date)>=t);if(o.length>0){const n=o[Math.floor(Math.random()*o.length)],a=`${h}${l.IMG_W1280}${n.backdrop_path}`;y.src=a,y.alt=n.title,y.title=n.overview,V.innerHTML=`${n.title}`;const r=new Date(n.release_date),s=r.getDate().toString().padStart(2,"0"),i=(r.getMonth()+1).toString().padStart(2,"0"),c=r.getFullYear();W.innerHTML=`${s}.${i}.${c}`,Y.innerHTML=`${n.vote_average}`,K.innerHTML=`${n.popularity}`,F.innerHTML=`${n.vote_count}`;const T=n.genre_ids.map(N=>$[N]).join(", ");j.innerHTML=T,Q.innerHTML=`${n.overview}`}});const k=document.getElementById("weekly-movie-card");console.log("weekly div",k);let z={};g(u,l.TRENDING_WEEK,{page:1}).then(e=>{console.log("DATAweek :",e);const t=e.results.slice(0,3).map(o=>{const n=o.genre_ids.map(a=>z[a]).join(", ");return`
      <li class="catalog-item">
        <img class="catalog-img" src="${h}${l.IMG_W500}${o.poster_path}" alt="${o.title}">
        <div class="catalog-info">
          <h2 class="catalog-title">${o.title}</h2>
          <span class="catalog-span">${n}</span>
        </div>
        <div class="catalog-stars">
          <span class="stars">STARS</span>
        </div>
      </li>
    `});k.innerHTML=t.join("")});
//# sourceMappingURL=main-DxQMDlM6.js.map
