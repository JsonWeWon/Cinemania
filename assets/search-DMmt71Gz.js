import{a as f}from"./vendor-N5iQpiFS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const c of a.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();const I="016a30ce49a7789188b6fa9bad9963a6",M="https://api.themoviedb.org/3",x="https://image.tmdb.org/t/p",_={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:t=>`/movie/${t}`,MOVIE_VIDEOS:t=>`/movie/${t}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function L(t,e,n={}){try{return(await f.get(`${t}${e}`,{params:{api_key:I,language:"en-US",page:1,...n}})).data}catch(r){throw console.error("Error fetching data:",r),r}}const b="016a30ce49a7789188b6fa9bad9963a6",w="https://api.themoviedb.org/3",m=document.getElementById("paginationNumbers"),h=document.getElementById("prevButton"),y=document.getElementById("nextButton"),d=document.getElementById("movie-list");let s=1,i=1;async function N(){await E(s),v(),h.addEventListener("click",()=>l(s-1)),y.addEventListener("click",()=>l(s+1))}async function S(t){try{return(await f.get(`${w}/trending/movie/week`,{params:{api_key:b,page:t}})).data}catch(e){throw console.error("Error fetching movies:",e),e}}async function E(t){try{const e=await S(t);$(e.results),i=e.total_pages,s=t,v()}catch(e){console.error("Failed to load movies:",e),O("Failed to load movies. Please try again.")}}function $(t){d.innerHTML="",t.forEach(e=>{const n=B(e);d.appendChild(n)})}function B(t){const e=document.createElement("div");return e.className="catalog-item",e.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${t.poster_path})`,e.innerHTML=`
    <div class="catalog-card-info-container">
      <h3 class="catalog-card-title">${t.title}</h3>
      <p class="catalog-card-description">${t.release_date}</p>
      <p class="rating">⭐ ${t.vote_average.toFixed(1)}</p>
    </div>
  `,e}function v(){m.innerHTML="";const t=Math.max(1,s-2),e=Math.min(i,t+4);for(let n=t;n<=e;n++){const r=document.createElement("button");r.textContent=n,r.classList.add("pagination-button"),n===s&&r.classList.add("active"),r.addEventListener("click",()=>l(n)),m.appendChild(r)}h.disabled=s===1,y.disabled=s===i}async function l(t){t>=1&&t<=i&&await E(t)}function O(t){const e=document.createElement("p");e.className="error-message",e.textContent=t,d.appendChild(e)}N();const P=document.getElementById("search-input"),A=document.getElementById("search-button"),g=document.getElementById("movie-list"),u=document.querySelector(".error-message");A.addEventListener("click",()=>{const t=P.value.trim();t&&C(t)});async function C(t){try{const e=await L(M,_.SEARCH_MOVIES,{query:t});e.results.length?T(e.results):p("No movies found.")}catch(e){console.error("Error searching movies:",e),p("Something went wrong. Please try again later.")}}function T(t){g.innerHTML="",u.style.display="none",t.forEach(e=>{const n=document.createElement("div");n.className="catalog-item",n.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${e.poster_path})`,n.innerHTML=`
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${e.title}</h3>
        <p class="catalog-card-description">${G(e.genre_ids)}</p>
        <p class="rating">⭐ ${e.vote_average.toFixed(1)}</p>
      </div>
    `,g.appendChild(n)})}function p(t){u.textContent=t,u.style.display="block"}function G(t){const e={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};return t.map(n=>e[n]||"Unknown").join(", ")}export{M as B,_ as E,x as I,L as f};
//# sourceMappingURL=search-DMmt71Gz.js.map
