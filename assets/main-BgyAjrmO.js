import{a as x}from"./vendor-N5iQpiFS.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const d of a.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();document.addEventListener("DOMContentLoaded",()=>{console.log("Trailer modal script loaded");const e=document.querySelector(".modal-trailer"),t=e.querySelector(".modal-trailer__close"),n=document.querySelector(".hero-button-watchTrailer"),o=e.querySelector(".modal-trailer__video");console.log("Elements found:",{modal:!!e,closeBtn:!!t,watchTrailerBtn:!!n,iframe:!!o});function r(){const s=o.src;o.src=s}function a(){console.log("Closing modal"),e.classList.remove("active"),document.body.style.overflow="auto",r()}function d(){console.log("Opening modal"),e.classList.add("active"),document.body.style.overflow="hidden"}n&&n.addEventListener("click",s=>{console.log("Watch trailer button clicked"),s.preventDefault(),d()}),t&&t.addEventListener("click",s=>{console.log("Close button clicked"),s.preventDefault(),a()}),e&&e.addEventListener("click",s=>{s.target===e&&(console.log("Clicked outside modal"),a())}),document.addEventListener("keydown",s=>{s.key==="Escape"&&e.classList.contains("active")&&(console.log("Escape key pressed"),a())}),window.trailerModal={open:d,close:a}});document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("genre-dropdown-container"),t=document.getElementById("load-more-container"),n=document.getElementById("library-list"),o=document.getElementById("default-content"),r=document.getElementById("genre-dropdown"),a=10;let d=1;const s=JSON.parse(localStorage.getItem("myLibrary"))||[];if(s.length===0){o.style.display="block",e.style.display="none",t.style.display="none";return}o.style.display="none",e.style.display="block",_(s.slice(0,a)),s.length>a?t.style.display="block":t.style.display="none",r.addEventListener("change",c=>{const y=c.target.value,g=y==="all"?s.slice(0,d*a):s.filter(i=>i.genre_ids.includes(parseInt(y)));g.length===0?(o.style.display="block",n.innerHTML="",e.style.display="block",t.style.display="none"):(o.style.display="none",_(g.slice(0,d*a)),t.style.display=g.length>d*a?"block":"none")}),document.getElementById("load-more").addEventListener("click",()=>{d++;const c=s.slice(0,d*a);_(c),c.length>=s.length&&(t.style.display="none")})});function _(e){const t=document.getElementById("library-list");t.innerHTML="",e.forEach(n=>{const o=document.createElement("div");o.className="movie-item",o.innerHTML=`
      <img src="https://image.tmdb.org/t/p/w500${n.poster_path}" alt="${n.title}" class="movie-poster">
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${n.title}</h3>
        <p class="catalog-card-description">${P(n.genre_ids)} | ${n.release_date?n.release_date.split("-")[0]:"Unknown"}</p>
        <p class="rating">⭐ ${n.vote_average.toFixed(1)}</p>
      </div>
    `,o.addEventListener("click",()=>{window.movieModal.show(n.id)}),t.appendChild(o)})}function P(e){const t={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};return!e||!Array.isArray(e)?"":e.map(o=>t[o]||"Unknown").slice(0,2).join(", ")}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("theme-switch"),t=document.documentElement,n=document.body,o=localStorage.getItem("theme");o?(t.classList.add(o),n.classList.add(o),e.checked=o==="light-theme"):(t.classList.add("dark-theme"),n.classList.add("dark-theme"),e.checked=!1,localStorage.setItem("theme","dark-theme")),requestAnimationFrame(()=>{t.classList.add("theme-loaded")}),e.addEventListener("change",()=>{e.checked?(t.classList.remove("dark-theme"),t.classList.add("light-theme"),n.classList.remove("dark-theme"),n.classList.add("light-theme"),localStorage.setItem("theme","light-theme")):(t.classList.remove("light-theme"),t.classList.add("dark-theme"),n.classList.remove("light-theme"),n.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"))})});document.addEventListener("DOMContentLoaded",function(){const e=document.createElement("div");fetch("modal.html").then(t=>t.text()).then(t=>{e.innerHTML=t;const n=document.getElementById("teamModal"),o=document.getElementById("teamLink"),r=document.getElementById("closeModal");o.addEventListener("click",function(){n.classList.add("active"),document.body.style.overflow="hidden"});function a(){n.classList.remove("active"),document.body.style.overflow="auto"}r.addEventListener("click",a),n.addEventListener("click",function(d){d.target===n&&a()}),document.addEventListener("keydown",function(d){d.key==="Escape"&&a()})}).catch(t=>console.error("Modal yüklenirken bir hata oluştu:",t))});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".mobile-menu-btn"),t=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-menu-icon use"),o=document.body;function r(){const s=t.classList.contains("is-open"),c=n.getAttribute("href").split("#")[0];t.classList.toggle("is-open"),e.setAttribute("aria-expanded",!s),n.setAttribute("href",s?c+"#icon-menu":c+"#icon-close"),o.style.overflow=s?"":"hidden"}e&&t&&(e.addEventListener("click",c=>{c.stopPropagation(),r()}),document.querySelectorAll(".mobile-nav-link").forEach(c=>{c.addEventListener("click",()=>{r()})}),document.addEventListener("click",c=>{t.classList.contains("is-open")&&!c.target.closest(".mobile-menu")&&!c.target.closest(".mobile-menu-btn")&&r()}),t.addEventListener("click",c=>{c.stopPropagation()}),document.addEventListener("keydown",c=>{c.key==="Escape"&&t.classList.contains("is-open")&&r()}));const a=window.location.pathname;document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(s=>{s.classList.remove("active")}),a.includes("catalog.html")?document.querySelectorAll('[data-page="catalog"]').forEach(s=>{s.classList.add("active")}):a.includes("mylibrary.html")?document.querySelectorAll('[data-page="library"]').forEach(s=>{s.classList.add("active")}):document.querySelectorAll('[data-page="home"]').forEach(s=>{s.classList.add("active")})});const R="016a30ce49a7789188b6fa9bad9963a6",E="https://api.themoviedb.org/3",f="https://image.tmdb.org/t/p",v={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:e=>`/movie/${e}`,MOVIE_VIDEOS:e=>`/movie/${e}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function M(e,t,n={}){try{return(await x.get(`${e}${t}`,{params:{api_key:R,language:"en-US",page:1,...n}})).data}catch(o){throw console.error("Error fetching data:",o),o}}const p=document.querySelector("#heroImg"),U=document.querySelector(".hero-h1");document.querySelector(".hero-rating-stars");const W=document.querySelector(".hero-summary"),V=document.querySelector(".hero-button-moreDetails");document.querySelector(".hero-button-watchTrailer");let T=null;function Y(e){return e.length>170?e.slice(0,170)+"...":e}function j(e){const t=`${f}/w500${e.backdrop_path}`,n=`${f}/w780${e.backdrop_path}`,o=`${f}/w1280${e.backdrop_path}`;window.matchMedia("(max-width: 767px)").matches?(p.style.backgroundImage=`url(${t})`,p.style.height="380px"):window.matchMedia("(min-width: 768px) and (max-width: 1279px)").matches?(p.style.backgroundImage=`url(${n})`,p.style.height="432px"):(p.style.backgroundImage=`url(${o})`,p.style.height="720px"),p.setAttribute("aria-label",e.title),U.innerHTML=e.title,W.innerHTML=Y(e.overview),T=e.id}M(E,v.POPULAR_MOVIES,{page:1}).then(e=>{if(e.results&&e.results.length>0){const t=Math.floor(Math.random()*20),n=e.results[t];j(n)}else console.error("No movies found for hero section.")});V.addEventListener("click",()=>{T&&window.movieModal.show(T)});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".modal-details"),t=e.querySelector(".modal-details__close"),n=e.querySelector(".modal-details__library-btn");let o=null;const r={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function a(){e.classList.remove("active"),document.body.style.overflow="auto"}t.addEventListener("click",a),e.addEventListener("click",i=>{i.target===e&&a()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&e.classList.contains("active")&&a()});function d(i){return(JSON.parse(localStorage.getItem("myLibrary"))||[]).some(u=>u.id===i)}function s(i){const l=d(i);n.textContent=l?"Remove from my library":"Add to my library",n.dataset.action=l?"remove":"add"}function c(i){const l=JSON.parse(localStorage.getItem("myLibrary"))||[],u=l.findIndex(m=>m.id===i.id);i.genres&&!i.genre_ids&&(i.genre_ids=i.genres.map(m=>m.id)),i.genre_ids&&!i.genres&&(i.genres=i.genre_ids.map(m=>({id:m,name:r[m]||"Unknown"}))),u===-1?l.push(i):l.splice(u,1),localStorage.setItem("myLibrary",JSON.stringify(l)),s(i.id)}n.addEventListener("click",async()=>{if(o){const i=await y(o);c(i)}});async function y(i){const l="016a30ce49a7789188b6fa9bad9963a6",u="https://api.themoviedb.org/3";try{const m=await fetch(`${u}/movie/${i}?api_key=${l}&language=en-US`);if(!m.ok)throw new Error("Failed to fetch movie details");return await m.json()}catch(m){return console.error("Error fetching movie details:",m),null}}async function g(i){const l=await y(i);l&&(o=l.id,e.querySelector(".modal-details__image").src=`https://image.tmdb.org/t/p/w500${l.poster_path}`,e.querySelector(".modal-details__image").alt=l.title,e.querySelector(".modal-details__title").textContent=l.title,e.querySelector(".modal-details__vote").textContent=l.vote_average.toFixed(1),e.querySelector(".modal-details__votes").textContent=l.vote_count,e.querySelector(".modal-details__popularity").textContent=l.popularity.toFixed(1),e.querySelector(".modal-details__genre").textContent=l.genres.map(u=>u.name).join(", "),e.querySelector(".modal-details__about-text").textContent=l.overview,s(l.id),e.classList.add("active"),document.body.style.overflow="hidden")}window.movieModal={show:g,close:a}});const K="016a30ce49a7789188b6fa9bad9963a6",J="https://api.themoviedb.org/3",D=document.getElementById("paginationNumbers"),b=document.getElementById("prevButton"),w=document.getElementById("nextButton"),N=document.getElementById("movie-list"),C=document.querySelector(".error-message");let h=1,L=1,O="";const Q={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function z(e){return!e||!Array.isArray(e)?"":e.map(o=>Q[o]||"Unknown").slice(0,2).join(", ")}function X(e){return e?e.split("-")[0]:""}function Z(){B(1),b.addEventListener("click",()=>q(h-1)),w.addEventListener("click",()=>q(h+1))}function H(e){O=e.trim(),B(1)}async function B(e){try{const t=await ee(e,O);te(t.results),h=t.page,L=t.total_pages,ne()}catch(t){console.error("Failed to load movies:",t),G("Failed to load movies. Please try again.")}}async function ee(e,t){try{let n="/trending/movie/week",o={api_key:K,page:e};return t&&(n="/search/movie",o.query=t),(await x.get(`${J}${n}`,{params:o})).data}catch(n){throw console.error("Error fetching movies:",n),n}}function te(e){if(N.innerHTML="",C.style.display="none",!e||e.length===0){G("No movies found.");return}e.forEach(t=>{const n=document.createElement("div");n.className="catalog-item",n.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${t.poster_path})`;const o=z(t.genre_ids),r=X(t.release_date),a=`${o}${r?` | ${r}`:""}`;n.innerHTML=`
      <div class="catalog-card-info-container">
        <h3 class="catalog-card-title">${t.title}</h3>
        <p class="catalog-card-description">${a}</p>
        <p class="rating">⭐ ${t.vote_average.toFixed(1)}</p>
      </div>
    `,N.appendChild(n),n.addEventListener("click",()=>{window.movieModal.show(t.id)})})}function ne(){if(D.innerHTML="",L<2){b.style.display="none",w.style.display="none";return}else b.style.display="inline-block",w.style.display="inline-block";const e=Math.max(1,h-2),t=Math.min(L,e+4);for(let n=e;n<=t;n++){const o=document.createElement("button");o.textContent=n,o.classList.add("pagination-button"),n===h&&o.classList.add("active"),o.addEventListener("click",()=>q(n)),D.appendChild(o)}b.disabled=h===1,w.disabled=h===L}function G(e){C.textContent=e,C.style.display="block"}async function q(e){e>=1&&e<=L&&await B(e)}const oe=document.getElementById("search-form"),k=document.getElementById("search-input"),S=document.getElementById("clear-button"),ae=document.getElementById("movie-list");k.addEventListener("input",()=>{k.value.trim()!==""?S.style.display="inline":S.style.display="none"});S.addEventListener("click",()=>{k.value="",S.style.display="none",H("")});oe.addEventListener("submit",e=>{e.preventDefault();const t=k.value.trim();t&&(H(t),re())});function re(){ae.querySelectorAll(".catalog-item").forEach(t=>{const n=t.id.split("-")[2];t.addEventListener("click",()=>{window.movieModal.show(n)})})}const I=document.querySelector("#content-poster"),se=document.querySelector("#movie-title"),ie=document.querySelector("#date-of-release"),ce=document.querySelector("#avarage-vote"),le=document.querySelector("#popularity"),de=document.querySelector("#count-vote"),me=document.querySelector("#genres");let F={};const ue=document.querySelector("#summary");M(E,v.GENRE_LIST).then(e=>{e.genres.forEach(t=>{F[t.id]=t.name})});const ye=()=>{M(E,v.UPCOMING_MOVIES,{page:1}).then(e=>{const t=new Date,n=e.results.filter(o=>new Date(o.release_date)>=t);if(n.length>0){const o=n[Math.floor(Math.random()*n.length)],r=`${f}${v.IMG_W1280}${o.backdrop_path}`;I.src=r,I.alt=o.title,I.title=o.overview,se.innerHTML=`${o.title}`;const a=new Date(o.release_date),d=a.getDate().toString().padStart(2,"0"),s=(a.getMonth()+1).toString().padStart(2,"0"),c=a.getFullYear();ie.innerHTML=`${d}.${s}.${c}`,ce.innerHTML=`${o.vote_average}`,le.innerHTML=`${o.popularity}`,de.innerHTML=`${o.vote_count}`;const y=o.genre_ids.map(g=>F[g]).join(", ");me.innerHTML=y,ue.innerHTML=`${o.overview}`}})};ye();console.log("upcoming js yüklendi");const A=document.getElementById("movie-list"),$=document.querySelector(".error-message"),ge={28:"Action",12:"Adventure",16:"Animation",35:"Comedy",80:"Crime",99:"Documentary",18:"Drama",10751:"Family",14:"Fantasy",36:"History",27:"Horror",10402:"Music",9648:"Mystery",10749:"Romance",878:"Science Fiction",10770:"TV Movie",53:"Thriller",10752:"War",37:"Western"};function pe(e){return!e||!Array.isArray(e)?"":e.map(o=>ge[o]||"Unknown").slice(0,2).join(", ")}function he(e){return e?e.split("-")[0]:""}function ve(e){A.innerHTML="",e.forEach(t=>{const n=document.createElement("div");n.className="catalog-item",n.id=`catalog-movie-${t.id}`,n.style.backgroundImage=`url(https://image.tmdb.org/t/p/w500${t.poster_path})`;const o=pe(t.genre_ids),r=he(t.release_date),a=`${o}${r?` | ${r}`:""}`;n.innerHTML=`
            <div class="catalog-card-info-container">
                <h3 class="catalog-card-title">${t.title}</h3>
                <p class="catalog-card-description">${a}</p>
                <p class="rating">⭐ ${t.vote_average.toFixed(1)}</p>
            </div>
        `,A.appendChild(n),n.addEventListener("click",()=>{window.movieModal.show(t.id)})})}async function fe(){try{const e=await M(E,v.TRENDING_WEEK);e.results&&e.results.length>0?(ve(e.results),$.style.display="none"):(A.innerHTML="",$.style.display="block")}catch(e){console.error("Error fetching movies:",e),$.style.display="block"}}document.addEventListener("DOMContentLoaded",()=>{Z(),fe()});document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelector(".scroll-to-top"),t=100;function n(){window.scrollY>t?e.classList.add("visible"):e.classList.remove("visible")}function o(){window.scrollTo({top:0,behavior:"smooth"})}window.addEventListener("scroll",n),e.addEventListener("click",o),n()});const Le=document.querySelector("#weekly-movie-card");async function Ee(){try{const t=(await M(E,v.TRENDING_WEEK)).results.slice(0,3),n=t.map(o=>`
                <li class="catalog-item" id="weekly-movie-${o.id}">
                    <img class="catalog-img" src="${f}/w500${o.poster_path}" alt="${o.title}">
                    <div class="catalog-info">
                        <h2 class="catalog-title">${o.title}</h2>
                    </div>
                    <div class="catalog-stars">
                        <span class="stars">⭐ ${o.vote_average.toFixed(1)}</span>
                    </div>
                </li>
            `);Le.innerHTML=n.join(""),t.forEach(o=>{document.getElementById(`weekly-movie-${o.id}`).addEventListener("click",()=>{window.movieModal.show(o.id)})})}catch(e){console.error("Error loading weekly movies:",e)}}Ee();
//# sourceMappingURL=main-BgyAjrmO.js.map
