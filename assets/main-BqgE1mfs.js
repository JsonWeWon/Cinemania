import{a as I}from"./vendor-N5iQpiFS.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const r of a)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const r={};return a.integrity&&(r.integrity=a.integrity),a.referrerPolicy&&(r.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?r.credentials="include":a.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(a){if(a.ep)return;a.ep=!0;const r=n(a);fetch(a.href,r)}})();document.addEventListener("DOMContentLoaded",()=>{const t=document.getElementById("theme-switch"),e=document.body,n=localStorage.getItem("theme");n?(e.classList.add(n),t.checked=n==="light-theme"):(e.classList.add("dark-theme"),t.checked=!1),t.addEventListener("change",()=>{t.checked?(e.classList.remove("dark-theme"),e.classList.add("light-theme"),localStorage.setItem("theme","light-theme")):(e.classList.remove("light-theme"),e.classList.add("dark-theme"),localStorage.setItem("theme","dark-theme"))})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector(".mobile-menu-btn"),e=document.querySelector(".mobile-menu"),n=document.querySelector(".mobile-menu-icon use"),o=document.body;function a(){const c=e.classList.contains("is-open");e.classList.toggle("is-open"),t.setAttribute("aria-expanded",!c),n.setAttribute("href",c?"./img/icons.svg#icon-menu":"./img/icons.svg#icon-close"),o.style.overflow=c?"":"hidden"}t&&e&&(t.addEventListener("click",i=>{i.stopPropagation(),a()}),document.querySelectorAll(".mobile-nav-link").forEach(i=>{i.addEventListener("click",()=>{a()})}),document.addEventListener("click",i=>{e.classList.contains("is-open")&&!i.target.closest(".mobile-menu")&&!i.target.closest(".mobile-menu-btn")&&a()}),e.addEventListener("click",i=>{i.stopPropagation()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&e.classList.contains("is-open")&&a()}));const r=window.location.pathname;document.querySelectorAll(".nav-link, .mobile-nav-link").forEach(c=>{c.classList.remove("active")}),r.includes("catalog.html")?document.querySelectorAll('[data-page="catalog"]').forEach(c=>{c.classList.add("active")}):r.includes("mylibrary.html")?document.querySelectorAll('[data-page="library"]').forEach(c=>{c.classList.add("active")}):document.querySelectorAll('[data-page="home"]').forEach(c=>{c.classList.add("active")}),console.log("menuıcoon",n.getAttribute("href"))});console.log("header.js loaded");const O="016a30ce49a7789188b6fa9bad9963a6",u="https://api.themoviedb.org/3",h="https://image.tmdb.org/t/p",l={TRENDING_WEEK:"/trending/movie/week",TRENDING_DAY:"/trending/movie/day",POPULAR_MOVIES:"/movie/popular",UPCOMING_MOVIES:"/movie/upcoming",MOVIE_DETAILS:t=>`/movie/${t}`,MOVIE_VIDEOS:t=>`/movie/${t}/videos`,SEARCH_MOVIES:"/search/movie",GENRE_LIST:"/genre/movie/list",IMG_W500:"/w500",IMG_W780:"/w780",IMG_W1280:"/w1280",IMG_ORIGINAL:"/original"};async function g(t,e,n={}){try{return(await I.get(`${t}${e}`,{params:{api_key:O,language:"en-US",page:1,...n}})).data}catch(o){throw console.error("Error fetching data:",o),o}}const m=document.querySelector("#heroImg"),A=document.querySelector(".hero-h1"),P=document.querySelector(".hero-summary"),E=document.querySelector(".hero-button-watchTrailer");function M(t){const e=window.matchMedia("(max-width: 767px)"),n=window.matchMedia("(min-width: 768px) and (max-width: 1279px)"),o=window.matchMedia("(min-width: 1280px)"),a=`${h}${l.IMG_W500}${t.backdrop_path}`,r=`${h}${l.IMG_W780}${t.backdrop_path}`,s=`${h}${l.IMG_W1280}${t.backdrop_path}`;e.matches?(m.style.backgroundImage=`url(${a})`,m.style.height="380px"):n.matches?(m.style.backgroundImage=`url(${r})`,m.style.height="432px"):o.matches&&(m.style.backgroundImage=`url(${s})`,m.style.height="720px"),m.setAttribute("aria-label",t.title),A.innerHTML=t.title,P.innerHTML=t.overview}g(u,l.POPULAR_MOVIES,{page:1}).then(t=>{console.log(t);const e=Math.floor(Math.random()*20),n=t.results[e],o=n.id;M(n),g(u,l.MOVIE_VIDEOS(o),{page:1}).then(a=>{const r=a.results.find(s=>s.official===!0&&s.site==="YouTube"&&s.type==="Trailer");if(r){const s=`https://www.youtube.com/watch?v=${r.key}`;E.href=s,E.addEventListener("click",()=>{window.open(s,"_blank")})}else console.log("No official YouTube trailer found.")})});window.addEventListener("resize",()=>{g(u,l.POPULAR_MOVIES,{page:1}).then(t=>{const e=Math.floor(Math.random()*20),n=t.results[e];M(n)})});document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelector("#library-container");if(!t){console.error("Element with ID 'library-container' not found!");return}fetch("./partials/library-list.html").then(e=>{if(!e.ok)throw new Error(`Failed to load library-list.html: ${e.statusText}`);return e.text()}).then(e=>{t.innerHTML=e;const n=document.getElementById("default-content");document.getElementById("library-list");const o=JSON.parse(localStorage.getItem("myLibrary"))||[];o.length===0?n.style.display="block":(n.style.display="none",q(o));const a=document.getElementById("go-to-catalog");a&&a.addEventListener("click",()=>{window.location.href="catalog.html"})}).catch(e=>{console.error("Error loading library-list.html:",e)})});function q(t){const e=document.getElementById("library-list");if(!e){console.error("Element with ID 'library-list' not found!");return}e.innerHTML="",t.forEach(n=>{const o=document.createElement("div");o.className="movie-item",o.innerHTML=`
      <h3>${n.title}</h3>
      <p>${n.description||"Açıklama mevcut değil"}</p>
    `,e.appendChild(o)})}const D="016a30ce49a7789188b6fa9bad9963a6",G="https://api.themoviedb.org/3",L=document.getElementById("paginationNumbers"),S=document.getElementById("prevButton"),w=document.getElementById("nextButton"),_=document.getElementById("movieGrid");let d=1,p=1,B=1;async function C(){await $(d),v(),S.addEventListener("click",()=>f(d-1)),w.addEventListener("click",()=>f(d+1))}async function x(){try{const t=await I.get(`${G}/search/movie`,{params:{api_key:D,page:B,query:"Love"}});return console.log("response.data",t.data),t.data}catch(t){throw console.error("Error fetching movies:",t),t}}async function $(t){try{const e=await x(t);console.log("load movie data",e),H(e.results),p=e.total_pages,console.log("totalPages",p),d=t,v()}catch(e){console.error("Failed to load movies:",e),U("Failed to load movies. Please try again.")}}function H(t){t.forEach(e=>{const n=R(e);console.log("movieCard",n),_.appendChild(n)})}function R(t){const e=document.createElement("div");return e.className="movie-card",e.innerHTML=`
    <img src="https://image.tmdb.org/t/p/w500${t.poster_path}" alt="${t.title}">
    <h3>${t.title}</h3>
    <p>Release Date: ${t.release_date}</p>
    <p>Rating: ${t.vote_average}/10</p>
  `,console.log("card",e),e}function v(){L.innerHTML="";const t=Math.max(1,d-2),e=Math.min(p,t+4);for(let n=t;n<=e;n++){const o=document.createElement("button");o.textContent=n,o.classList.add("pagination-button"),n===d&&o.classList.add("active"),o.addEventListener("click",()=>f(n)),L.appendChild(o)}S.disabled=d===1,w.disabled=d===p}async function f(t){t>=1&&t<=p&&await $(t)}function U(t){const e=document.createElement("div");e.className="error-message",e.textContent=t,_.appendChild(e)}C();v();const y=document.querySelector("#content-poster"),V=document.querySelector("#movie-title"),W=document.querySelector("#date-of-release"),Y=document.querySelector("#avarage-vote"),F=document.querySelector("#popularity"),K=document.querySelector("#count-vote"),j=document.querySelector("#genres");let k={};const Q=document.querySelector("#summary");g(u,l.GENRE_LIST).then(t=>{t.genres.forEach(e=>{k[e.id]=e.name})});g(u,l.UPCOMING_MOVIES,{page:1}).then(t=>{const e=new Date,n=t.results.filter(o=>new Date(o.release_date)>=e);if(n.length>0){const o=n[Math.floor(Math.random()*n.length)],a=`${h}${l.IMG_W1280}${o.backdrop_path}`;y.src=a,y.alt=o.title,y.title=o.overview,V.innerHTML=`${o.title}`;const r=new Date(o.release_date),s=r.getDate().toString().padStart(2,"0"),c=(r.getMonth()+1).toString().padStart(2,"0"),i=r.getFullYear();W.innerHTML=`${s}.${c}.${i}`,Y.innerHTML=`${o.vote_average}`,F.innerHTML=`${o.popularity}`,K.innerHTML=`${o.vote_count}`;const T=o.genre_ids.map(N=>k[N]).join(", ");j.innerHTML=T,Q.innerHTML=`${o.overview}`}});const z=document.querySelector(".weekly-movie-card");let b={};g(u,l.GENRE_LIST).then(t=>{t.genres.forEach(e=>{b[e.id]=e.name}),g(u,l.TRENDING_WEEK,{page:1}).then(e=>{console.log("DATAweek :",e);const n=e.results.slice(0,3).map(o=>{const a=o.genre_ids.map(r=>b[r]).join(", ");return`
        <li class="catalog-item">
          <img class="catalog-img" src="${h}${l.IMG_W500}${o.poster_path}" alt="${o.title}">
          <div class="catalog-info">
            <h2 class="catalog-title">${o.title}</h2>
            <span class="catalog-span">${a}</span>
          </div>
          <div class="catalog-stars">
            <span class="stars">STARS</span>
          </div>
        </li>
      `});z.innerHTML=n.join("")})});
//# sourceMappingURL=main-BqgE1mfs.js.map
